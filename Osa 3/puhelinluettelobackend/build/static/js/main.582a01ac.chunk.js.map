{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","app.js","index.js"],"names":["Filter","_ref","filter","handleFilterChange","react_default","a","createElement","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","personsService","setMessage","setError","setPersons","person","name","toLowerCase","includes","map","number","onClick","id","find","window","confirm","deletePerson","then","response","n","concat","setTimeout","catch","error","console","log","handleDelete","baseUrl","services_persons","getAll","axios","get","create","newObject","post","update","put","delete","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","Message","_useState11","_useState12","ErrorMessage","useEffect","data","components_Filter","event","target","message","className","_ref2","components_PersonForm","preventDefault","personObject","components_Persons","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.582a01ac.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilterChange}) => {\r\n    return ( \r\n        <form>\r\n        Filtter shown with <input  value={filter} onChange={handleFilterChange}/>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React, { useState } from 'react'\r\n\r\n\r\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange}/>\r\n        </div>\r\n        <div>number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, personsService, setMessage, setError, setPersons}) => {\r\n\r\n    const handleDelete = (id) => {\r\n      const person = persons.find(person => person.id === id)\r\n      if (window.confirm('Haluatko varmasti poistaa?')) {  \r\n          personsService.deletePerson(id)\r\n          .then(response => {\r\n            setPersons(persons.filter(n => n.id !== id))\r\n            setMessage(`Deleted ${person.name}`)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n            setError(`Already deleted ${person.name} from server!`)\r\n            setTimeout(() => {\r\n                setError(null)\r\n              }, 5000)\r\n            setPersons(persons.filter(n => n.id !== id))\r\n            return\r\n          }) }\r\n    }\r\n  \r\n    const FiltteredList = persons.filter(person => person.name.toLowerCase().includes(filter))\r\n    return (\r\n      FiltteredList.map(person => \r\n      <p>{person.name} {person.number} <button onClick={() => handleDelete(person.id)} >delete</button></p> )\r\n    )\r\n  }\r\n\r\n  export default Persons\r\n\r\n  ","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n  }\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  deletePerson: deletePerson\r\n}","import React, { useState, useEffect  } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personsService  from './services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [Message, setMessage] = useState(null)\r\n  const [ErrorMessage, setError] = useState(null)\r\n\r\n  const hook = () => {\r\n    personsService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }\r\n  \r\n  useEffect(hook, [])\r\n\r\n  const Notification = ({message}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"message\">\r\n        <p>{message}</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const Errrror = ({message}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        <p>{message}</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.find(person => person.name === newName)) {\r\n      const id = persons.find(person => person.id )\r\n      console.log(id.id)\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\r\n          console.log(id.id)\r\n          console.log(personObject)\r\n          personsService\r\n          .update(id.id, personObject)\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setMessage(`Added new number to ${personObject.name}`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          return\r\n        } \r\n    }\r\n    personsService\r\n    .create(personObject)\r\n    .then(response => {\r\n      console.log(response)\r\n      setPersons(persons.concat(personObject))\r\n      setNewName('')\r\n      setNewNumber('')\r\n      setMessage(`Added ${personObject.name}`)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n    })\r\n    .catch(error => {\r\n      console.log(error.response.data)\r\n      setError(error.response.data.error)\r\n      setTimeout(() => {\r\n        setError(null)\r\n      }, 5000)\r\n    } )\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setFilter(event.target.value)\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter filter={filter} handleFilterChange={handleFilterChange}/>\r\n      <h2>Add a new name</h2>\r\n      <Notification  message={Message}/>\r\n      <Errrror  message={ErrorMessage}/>\r\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\r\n       newNumber={newNumber} handleNumberChange={handleNumberChange}/>\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} filter={filter} personsService={personsService} setMessage={setMessage} setPersons={setPersons} setError={setError}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}